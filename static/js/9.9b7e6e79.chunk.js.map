{"version":3,"sources":["components/PizzaEditor/PizzaEditor.js","pages/Admin/Admin.js"],"names":["PizzaEditor","this","props","pizza","onFormChange","onFileInputChangeHandler","Form","style","Row","Col","className","Group","controlId","Label","id","Control","type","placeholder","defaultValue","name","onChange","topping","price","File","Input","React","Component","Admin","event","setState","Object","assign","state","pizzaEdit","target","value","setModificationType","modificationType","setDeleteId","deleteId","updatePizza","a","handleAlert","dispatch","PizzaActions","Api","imageurl","showEdit","uploadPizza","showUpload","selectedFile","files","onFileUploadHandler","data","FormData","append","myHeaders","Headers","Env","apiClientIDImgur","fetch","apiUrlImgur","method","headers","body","redirect","response","json","link","showFail","editId","show","height","width","marginLeft","marginRight","onClick","handleCloseAddForm","backgroundColor","newPizza","pizzaList","length","loadPizzaList","prevProps","prevState","deletePizza","Alert","variant","Button","boxSizing","key","addBar","map","i","src","alt","objectFit","changePizza","connect","managePizzaList","user","manageUser"],"mappings":"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","file":"static/js/9.9b7e6e79.chunk.js","sourcesContent":["import React from 'react'\r\nimport Form from 'react-bootstrap/Form';\r\nimport Col from 'react-bootstrap/Col';\r\nimport { FormattedMessage } from 'react-intl';\r\nclass PizzaEditor extends React.Component {\r\n    render() {\r\n        const { pizza, onFormChange, onFileInputChangeHandler } = this.props;\r\n        return (\r\n            <Form style={{}}>\r\n                <Form.Row>\r\n                    <Col className=\"col-3\">\r\n                        <Form.Group controlId=\"name\">\r\n                            <Form.Label>\r\n                                <FormattedMessage\r\n                                    id=\"pizzaeditor.name\" />\r\n                            </Form.Label>\r\n                            <Form.Control\r\n                                type=\"text\"\r\n                                placeholder=\"Név\"\r\n                                defaultValue={pizza.name}\r\n                                onChange={onFormChange} />\r\n                        </Form.Group>\r\n                    </Col>\r\n                    <Col className=\"col-3\">\r\n                        <Form.Group controlId=\"topping\">\r\n                            <Form.Label>\r\n                                <FormattedMessage\r\n                                    id=\"pizzaeditor.toppings\" />\r\n                            </Form.Label>\r\n                            <Form.Control\r\n                                type=\"text\"\r\n                                placeholder=\"Feltétek\"\r\n                                defaultValue={pizza.topping}\r\n                                onChange={onFormChange} />\r\n                        </Form.Group>\r\n                    </Col>\r\n                    <Col className=\"col-3\">\r\n                        <Form.Group controlId=\"price\">\r\n                            <Form.Label>\r\n                                <FormattedMessage\r\n                                    id=\"pizzaeditor.price\" />\r\n                            </Form.Label>\r\n                            <Form.Control\r\n                                type=\"number\"\r\n                                placeholder=\"Ár\"\r\n                                defaultValue={pizza.price}\r\n                                onChange={onFormChange} />\r\n                        </Form.Group>\r\n                    </Col>\r\n                    <Col className=\"col-3\">\r\n                        <Form.File id=\"formcheck-api-regular\">\r\n                            <Form.File.Label>\r\n                                <FormattedMessage\r\n                                    id=\"pizzaeditor.image\" />\r\n                            </Form.File.Label>\r\n                            <Form.File.Input type=\"file\" onChange={onFileInputChangeHandler} />\r\n                        </Form.File>\r\n                    </Col>\r\n                </Form.Row>\r\n            </Form>\r\n        );\r\n    }\r\n}\r\nexport default PizzaEditor;","import React, { Component } from 'react';\r\nimport PizzaEditor from '../../components/PizzaEditor/PizzaEditor';\r\nimport Alert from 'react-bootstrap/Alert';\r\nimport Button from 'react-bootstrap/Button';\r\nimport { PizzaActions } from '../../redux/actions/app.js';\r\nimport { connect } from 'react-redux';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { Env } from '../../utils/Env';\r\nimport Api from '../../api/Api';\r\n//import { FixedSizeList as List } from 'react-window'; TODO\r\nconst mapStateToProps = state => {\r\n\treturn {\r\n\t\tpizzaList: state.managePizzaList.pizzaList,\r\n\t\tuser: state.manageUser.user,\r\n\t}\r\n}\r\nclass Admin extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state =\r\n\t\t{\r\n\t\t\tshowEdit: false,\r\n\t\t\tshowUpload: false,\r\n\t\t\tshowFail: false,\r\n\t\t\tpizzaEdit: {\r\n\t\t\t\tid: '',\r\n\t\t\t\tname: '',\r\n\t\t\t\ttopping: '',\r\n\t\t\t\tprice: '',\r\n\t\t\t\timageurl: '',\r\n\t\t\t\teditId: '',\r\n\t\t\t\tdeleteId: '',\r\n\t\t\t\tmodificationType: '',\r\n\t\t\t\tselectedFile: ''\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\tchangePizza(pizza) {\r\n\t\tthis.setState({ showEdit: true, pizzaEdit: pizza, editId: pizza.id });\r\n\t}\r\n\tnewPizza() {\r\n\t\tthis.setState({ pizzaEdit: [], showUpload: true });\r\n\t}\r\n\tonFormChange = (event) => {\r\n\t\tthis.setState(Object.assign(this.state.pizzaEdit, { [event.target.id]: event.target.value }));\r\n\t};\r\n\tsetModificationType = (type) => {\r\n\t\tthis.setState({ modificationType: type });\r\n\t}\r\n\tsetDeleteId = (id) => {\r\n\t\tthis.setState({ deleteId: id });\r\n\t}\r\n\tupdatePizza = async () => {\r\n\t\tif (!this.state.pizzaEdit.name || !this.state.pizzaEdit.topping || !this.state.pizzaEdit.price) {\r\n\t\t\tthis.handleAlert(\"showFail\", true);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.props.dispatch(PizzaActions.updatePizza());\r\n\t\t\tawait Api.updatePizza(this.state.pizzaEdit.id, this.state.pizzaEdit.name, this.state.pizzaEdit.topping, this.state.pizzaEdit.price, this.state.pizzaEdit.imageurl);\r\n\t\t\tawait this.setState({ pizzaEdit: [], showEdit: false });\r\n\t\t}\r\n\t}\r\n\tuploadPizza = async () => {\r\n\t\tif (!this.state.pizzaEdit.name || !this.state.pizzaEdit.topping || !this.state.pizzaEdit.price) {\r\n\t\t\tthis.handleAlert(\"showFail\", true);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.props.dispatch(PizzaActions.uploadPizza());\r\n\t\t\tawait Api.uploadPizza(this.state.pizzaEdit.name, this.state.pizzaEdit.topping, this.state.pizzaEdit.price, this.state.pizzaEdit.imageurl);\r\n\t\t\tawait this.setState({ pizzaEdit: [], showUpload: false });\r\n\t\t}\r\n\t}\r\n\thandleCloseAddForm() {\r\n\t\tthis.setState({ showUpload: false })\r\n\t}\r\n\thandleAlert(type, show) {\r\n\t\tif (type === \"showFail\") {\r\n\t\t\tthis.setState({ showFail: show });\r\n\t\t}\r\n\t}\r\n\taddBar() {\r\n\t\tif (this.state.showUpload === true) {\r\n\t\t\treturn (\r\n\t\t\t\t<div className=\"ma-auto flex tc items-center\">\r\n\t\t\t\t\t<PizzaEditor\r\n\t\t\t\t\t\tonFileInputChangeHandler={this.onFileInputChangeHandler}\r\n\t\t\t\t\t\tpizza={[]}\r\n\t\t\t\t\t\tonFormChange={this.onFormChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"self-end pa1 h-auto\"\r\n\t\t\t\t\t\tstyle={{ height: '100px', width: '16%', marginLeft: '0', marginRight: '0' }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\tclassName=\"f6 grow no-underline br-pill ph3 pv2 dib white pointer ba bw0 bg-dark-green mh1\"\r\n\t\t\t\t\t\t\tonClick={async () => {\r\n\t\t\t\t\t\t\t\tawait this.onFileUploadHandler();\r\n\t\t\t\t\t\t\t\tthis.setModificationType(\"upload\");\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\tid=\"admin.upload\" />\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\tclassName=\"f6 grow no-underline br-pill ph3 pv2 dib white pointer ba bw0 bg-dark-red mh1\"\r\n\t\t\t\t\t\t\tonClick={() => this.handleCloseAddForm()}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\tid=\"admin.cancel\" />\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\treturn (\r\n\t\t\t\t<p\r\n\t\t\t\t\tclassName=\"f6 grow no-underline br-pill ph3 pv2 dib white bg-black pointer ba bw0 mt-auto mb-auto center\"\r\n\t\t\t\t\tstyle={{ backgroundColor: '#c4954f' }}\r\n\t\t\t\t\tonClick={() => this.newPizza()}\r\n\t\t\t\t>\r\n\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\tid=\"admin.add\" />\r\n\t\t\t\t</p>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\tonFileInputChangeHandler = async (event) => {\r\n\t\tthis.setState({ selectedFile: event.target.files[0] })\r\n\t};\r\n\tonFileUploadHandler = async () => {\r\n\t\tconst data = new FormData();\r\n\t\tdata.append('image', this.state.selectedFile);\r\n\t\tconst myHeaders = new Headers();\r\n\t\tmyHeaders.append(\"Authorization\", Env.apiClientIDImgur);\r\n\t\tif (this.state.selectedFile) {\r\n\t\t\tconst response = await fetch(Env.apiUrlImgur, {\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\theaders: myHeaders,\r\n\t\t\t\tbody: data,\r\n\t\t\t\tredirect: 'follow'\r\n\t\t\t});\r\n\t\t\tconst body = await response.json();\r\n\t\t\tthis.setState(Object.assign(this.state.pizzaEdit, { imageurl: body.data.link }));\r\n\r\n\r\n\t\t}\r\n\t};\r\n\tcomponentDidMount() {\r\n\t\tif (!this.props.pizzaList.length) {\r\n\t\t\tthis.props.loadPizzaList();\r\n\t\t}\r\n\t}\r\n\tasync componentDidUpdate(prevProps, prevState) {\r\n\t\tconst { modificationType, deleteId } = this.state;\r\n\t\tconst { pizzaList } = this.props;\r\n\t\tif (modificationType !== prevState.modificationType) {\r\n\t\t\tif (modificationType === \"update\") {\r\n\t\t\t\tthis.updatePizza();\r\n\t\t\t}\r\n\t\t\telse if (modificationType === \"upload\") {\r\n\t\t\t\tthis.uploadPizza();\r\n\t\t\t}\r\n\t\t\telse if (modificationType === \"delete\") {\r\n\r\n\t\t\t\tawait Api.deletePizza(deleteId);\r\n\t\t\t\tthis.props.dispatch(PizzaActions.deletePizza());\r\n\t\t\t}\r\n\t\t\tif (modificationType.length) {\r\n\t\t\t\tawait this.setState({ modificationType: '' });\r\n\t\t\t}\r\n\t\t\tif (pizzaList !== prevProps.pizzaList) {\r\n\t\t\t\tthis.props.loadPizzaList();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\trender() {\r\n\t\tconst { pizzaList } = this.props;\r\n\t\t/* TODO: react-window list\r\n\t\tconst Row = ({ index, style }) => (\r\n\t\t\t<div style={style}>\r\n\t\t\t\t{pizzaList[index].name}\r\n\t\t\t</div>\r\n\t\t);*/\r\n\t\treturn (\r\n\t\t\t<div className=\"w-80 flex items-center center\">\r\n\t\t\t\t{/* TODO: react-window list\r\n\t\t\t\t<List height={pizzaList.length*150}\r\n\t\t\t\t\twidth={500}\r\n\t\t\t\t\titemSize={120}\r\n\t\t\t\t\titemCount={pizzaList.length}>\r\n\t\t\t\t\t{Row}\r\n\t\t</List>*/}\r\n\t\t\t\t<article className=\"pa2 w-100\" style={{ height: 'pizzaList.length * 150px' }}>\r\n\t\t\t\t\t<Alert show={this.state.showFail} variant=\"danger\" >\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\tid=\"alert.admin\" />\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-end\">\r\n\t\t\t\t\t\t\t<Button onClick={() => this.handleAlert(\"showFail\", false)} variant=\"outline-danger\">\r\n\t\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\t\tid=\"alert.close\" />\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t\t<div className=\"flex justify-between items-center pa2\">\r\n\t\t\t\t\t\t<h1 className=\"f4 bold left tl mw6 mt-auto mb-auto\">\r\n\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\tid=\"admin.pizzaList\" />\r\n\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<ul className=\"list pl0 ml0 center ba b--light-silver br \">\r\n\t\t\t\t\t\t<li\r\n\t\t\t\t\t\t\tclassName=\"ph3 pv3 bb b--light-silver flex tc items-center bg-light-yellow\"\r\n\t\t\t\t\t\t\tstyle={{ boxSizing: 'content-box' }}\r\n\t\t\t\t\t\t\tkey=\"0\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{this.addBar()}\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t{pizzaList.map((pizza, i) => {\r\n\t\t\t\t\t\t\tif (this.state.editId === pizza.id && this.state.showEdit) {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<li\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"ph3 pv3 bb b--light-silver flex tc items-center bg-light-yellow\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ boxSizing: 'content-box' }}\r\n\t\t\t\t\t\t\t\t\t\tkey={pizza.id}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<PizzaEditor\r\n\t\t\t\t\t\t\t\t\t\t\tonFileInputChangeHandler={this.onFileInputChangeHandler}\r\n\t\t\t\t\t\t\t\t\t\t\tpizza={pizza}\r\n\t\t\t\t\t\t\t\t\t\t\tonFormChange={this.onFormChange}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-10 pa1 h-auto flex tc items-center center\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ height: '100px', width: '16%', marginLeft: '0', marginRight: '0' }}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"f6 grow no-underline br-pill ph3 pv2 dib white pointer ba bw0 bg-dark-green mt-auto mb-auto\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={async () => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tawait this.onFileUploadHandler();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setModificationType('update');\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"admin.save\" />\r\n\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<li\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"ph3 pv3 bb b--light-silver flex tc items-center\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ boxSizing: 'content-box', backgroundColor: '#c4954f' }}\r\n\t\t\t\t\t\t\t\t\t\tkey={pizza.id}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\" ma-auto flex tc items-center center\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ height: '100px', width: '16%' }}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"w-100 center mt-auto mb-auto\">{pizza.name}</p>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\" ma-auto flex tc items-center center\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ height: '100px', width: '16%' }}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"w-100 center mt-auto mb-auto\">{pizza.topping}</p>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\" ma-auto flex tc items-center center\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ height: '100px', width: '16%' }}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"w-100 center mt-auto mb-auto\">{pizza.price} Ft</p>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\" ma-auto flex tc items-center center\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ height: '100px', width: '16%' }}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"w-100 center mt-auto mb-auto\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={pizza.imageurl}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\talt={pizza.imageurl}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"db br2 br--top\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ objectFit: 'cover', width: '200px', height: '100px' }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"self-end pa1 h-auto\" style={{ height: '100px', width: '16%' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"f6 grow no-underline br-pill ph3 pv2 dib white pointer ba bw0 bg-gold\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.changePizza(pizza)}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"admin.edit\" />\r\n\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"f6 grow no-underline br-pill ph3 pv2 dib white pointer ba bw0 bg-dark-red\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setDeleteId(pizza.id);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setModificationType(\"delete\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"admin.delete\" />\r\n\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</article>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\nexport default connect(mapStateToProps)(Admin);\r\n"],"sourceRoot":""}