(this.webpackJsonppizzavilag=this.webpackJsonppizzavilag||[]).push([[11],{109:function(e,a,t){"use strict";t.r(a);var n=t(2),r=t.n(n),l=t(9),s=t(47),o=t(11),i=t(24),c=t(29),m=t(30),d=t(0),p=t.n(d),h=t(106),u=t(105),E=t(104),g=t(103),w=t(31),b=t(45),f=t(46),F=t(10),C=t(20),v=function(e){Object(c.a)(t,e);var a=Object(m.a)(t);function t(e){var n;return Object(o.a)(this,t),(n=a.call(this,e)).handleSubmitButton=function(e){if(!e)return p.a.createElement("p",{className:"f6 grow no-underline br-pill ph3 pv2 dib white bg-black pointer ba bw0",style:{background:"#c4954f"},onClick:n.onSubmit},p.a.createElement(b.a,{id:"register.register"}))},n.handlePassword=function(e){if(!e)return p.a.createElement(h.a.Row,null,p.a.createElement(u.a,null,p.a.createElement(h.a.Group,{controlId:"password"},p.a.createElement(h.a.Label,null,p.a.createElement(b.a,{id:"register.password"})),p.a.createElement(h.a.Control,{type:"password",placeholder:"Jelsz\xf3",onChange:n.onRegisterFormChange}))),p.a.createElement(u.a,null,p.a.createElement(h.a.Group,{controlId:"password2"},p.a.createElement(h.a.Label,null,p.a.createElement(b.a,{id:"register.passwordAgain"})),p.a.createElement(h.a.Control,{type:"password",placeholder:"Jelsz\xf3",onChange:n.onRegisterFormChange}))))},n.onRegisterFormChange=function(e){n.setState(Object(s.a)({},e.target.id,e.target.value))},n.onSubmit=Object(l.a)(r.a.mark((function e(){var a,t,l,s,o,i,c,m,d,p,h,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.state,t=a.email,l=a.password,s=a.password2,o=a.firstname,i=a.lastname,c=a.phone,m=a.zip,d=a.city,p=a.address,h=a.comment,/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)){e.next=6;break}n.handleAlert("emailFail",!0),e.next=24;break;case 6:if(!(l.length<8)||n.props.isOrder){e.next=10;break}n.handleAlert("passwordLengthFail",!0),e.next=24;break;case 10:if(l===s||n.props.isOrder){e.next=14;break}n.handleAlert("passwordFail",!0),e.next=24;break;case 14:if(i&&o&&m&&d&&p&&c&&t&&l&&s||n.props.isOrder){e.next=18;break}n.handleAlert("showFail",!0),e.next=24;break;case 18:return e.next=20,f.a.register(t,l,o,i,c,m,d,p,h);case 20:return e.next=22,e.sent.json();case 22:(u=e.sent).id&&(n.props.loadUser(u),n.props.dispatch(C.c.signIn()),n.props.history.push(F.a.root));case 24:case"end":return e.stop()}}),e)}))),n.state={showFail:!1,passwordFail:!1,passwordLengthFail:!1,emailFail:!1,email:"",password:"",password2:"",firstname:"",lastname:"",phone:"",zip:"",city:"",address:"",comment:""},n}return Object(i.a)(t,[{key:"handleAlert",value:function(e,a){"showFail"===e?this.setState({showFail:a}):"passwordFail"===e?this.setState({passwordFail:a}):"passwordLengthFail"===e?this.setState({passwordLengthFail:a}):"emailFail"===e&&this.setState({emailFail:a})}},{key:"componentDidUpdate",value:function(e,a){this.state!==a&&this.props.loadUser(this.state)}},{key:"render",value:function(){var e=this;return p.a.createElement(h.a,{className:"w-80 center bg-light-yellow pa2 br3 mt2",onKeyPress:function(a){"Enter"!==a.key||e.props.isOrder||(e.onSubmit(),a.preventDefault())}},p.a.createElement(E.a,{show:this.state.emailFail,variant:"danger"},p.a.createElement("p",null,p.a.createElement(b.a,{id:"alert.emailFormatFail"})),p.a.createElement("hr",null),p.a.createElement("div",{className:"d-flex justify-content-end"},p.a.createElement(g.a,{onClick:function(){e.handleAlert("emailFail",!1),e.handleAlert("formatFail",!1)},variant:"outline-danger"},p.a.createElement(b.a,{id:"alert.close"})))),p.a.createElement(E.a,{show:this.state.passwordLengthFail,variant:"danger"},p.a.createElement("p",null,p.a.createElement(b.a,{id:"alert.passwordLengthFail"})),p.a.createElement("hr",null),p.a.createElement("div",{className:"d-flex justify-content-end"},p.a.createElement(g.a,{onClick:function(){return e.handleAlert("passwordLengthFail",!1)},variant:"outline-danger"},p.a.createElement(b.a,{id:"alert.close"})))),p.a.createElement(E.a,{show:this.state.passwordFail,variant:"danger"},p.a.createElement("p",null,p.a.createElement(b.a,{id:"alert.passwordFail"})),p.a.createElement("hr",null),p.a.createElement("div",{className:"d-flex justify-content-end"},p.a.createElement(g.a,{onClick:function(){return e.handleAlert("passwordFail",!1)},variant:"outline-danger"},p.a.createElement(b.a,{id:"alert.close"})))),p.a.createElement(E.a,{show:this.state.showFail,variant:"danger"},p.a.createElement("p",null,p.a.createElement(b.a,{id:"alert.admin"})),p.a.createElement("hr",null),p.a.createElement("div",{className:"d-flex justify-content-end"},p.a.createElement(g.a,{onClick:function(){return e.handleAlert("showFail",!1)},variant:"outline-danger"},p.a.createElement(b.a,{id:"register.close"})))),p.a.createElement(h.a.Group,{controlId:"email"},p.a.createElement(h.a.Label,null,p.a.createElement(b.a,{id:"register.email"})),p.a.createElement(h.a.Control,{type:"email",placeholder:"pelda@pizzavilag.hu",onChange:this.onRegisterFormChange})),this.handlePassword(this.props.isOrder),p.a.createElement(h.a.Row,null,p.a.createElement(u.a,null,p.a.createElement(h.a.Group,{controlId:"lastname"},p.a.createElement(h.a.Label,null,p.a.createElement(b.a,{id:"register.lastName"})),p.a.createElement(h.a.Control,{type:"text",placeholder:"Vezet\xe9kn\xe9v",onChange:this.onRegisterFormChange}))),p.a.createElement(u.a,null,p.a.createElement(h.a.Group,{controlId:"firstname"},p.a.createElement(h.a.Label,null,p.a.createElement(b.a,{id:"register.firstName"})),p.a.createElement(h.a.Control,{type:"text",placeholder:"Keresztn\xe9v",onChange:this.onRegisterFormChange})))),p.a.createElement(h.a.Group,{controlId:"phone"},p.a.createElement(h.a.Label,null,p.a.createElement(b.a,{id:"register.phone"})),p.a.createElement(h.a.Control,{type:"text",placeholder:"Telefonsz\xe1m",onChange:this.onRegisterFormChange})),p.a.createElement(h.a.Row,null,p.a.createElement(u.a,{className:"col-5"},p.a.createElement(h.a.Group,{controlId:"zip"},p.a.createElement(h.a.Label,null,p.a.createElement(b.a,{id:"register.zip"})),p.a.createElement(h.a.Control,{type:"number",placeholder:"Ir\xe1ny\xedt\xf3sz\xe1m",onChange:this.onRegisterFormChange}))),p.a.createElement(u.a,{className:"col-7"},p.a.createElement(h.a.Group,{controlId:"city"},p.a.createElement(h.a.Label,null,p.a.createElement(b.a,{id:"register.city"})),p.a.createElement(h.a.Control,{type:"text",placeholder:"Telep\xfcl\xe9s",onChange:this.onRegisterFormChange})))),p.a.createElement(h.a.Group,{controlId:"address"},p.a.createElement(h.a.Label,null,p.a.createElement(b.a,{id:"register.address"})),p.a.createElement(h.a.Control,{type:"text",placeholder:"C\xedm",onChange:this.onRegisterFormChange})),p.a.createElement(h.a.Group,{controlId:"comment"},p.a.createElement(h.a.Label,null,p.a.createElement(b.a,{id:"register.comment"})),p.a.createElement(h.a.Control,{type:"text",placeholder:"Pl.: Kapucseng\u0151 sz\xe1ma - nem k\xf6telez\u0151 kit\xf6lteni!",onChange:this.onRegisterFormChange})),this.handleSubmitButton(this.props.isOrder))}}]),t}(d.Component);a.default=Object(w.b)(null,(function(e){return{dispatch:e}}))(v)}}]);
//# sourceMappingURL=11.cb7c7de0.chunk.js.map