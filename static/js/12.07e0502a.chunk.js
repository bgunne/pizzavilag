(this.webpackJsonppizzavilag=this.webpackJsonppizzavilag||[]).push([[12],{99:function(e,a,n){"use strict";n.r(a);var t=n(1),r=n.n(t),i=n(6),l=n(45),s=n(15),o=n(23),c=n(30),u=n(31),m=n(0),p=n.n(m),h=n(84),d=n(82),g=n(81),b=n(18),E=n(32),w=n(77),f=n(27),v=n(10),I=function(e){Object(c.a)(n,e);var a=Object(u.a)(n);function n(e){var t;return Object(s.a)(this,n),(t=a.call(this,e)).onSigninFormChange=function(e){t.setState(Object(l.a)({},e.target.id,e.target.value))},t.onSubmit=Object(i.a)(r.a.mark((function e(){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.signIn(t.state.signInEmail,t.state.signInPassword);case 2:return e.next=4,e.sent.json();case 4:(a=e.sent).id?(t.props.loadUser(a),t.props.signIn(),t.props.history.push(v.a.root),"admin"===a.role&&(t.props.admin(),t.props.history.push(v.a.admin))):t.handleAlert("showFail",!0);case 6:case"end":return e.stop()}}),e)}))),t.state={showFail:!1,signInEmail:"",signInPassword:""},t}return Object(o.a)(n,[{key:"handleAlert",value:function(e,a){"showFail"===e&&this.setState({showFail:a})}},{key:"render",value:function(){var e=this;return p.a.createElement(h.a,{className:"w-80 center bg-light-yellow pa2 br3 mt2",onKeyPress:function(a){"Enter"===a.key&&(e.onSubmit(),a.preventDefault())}},p.a.createElement(d.a,{show:this.state.showFail,variant:"danger"},p.a.createElement("p",null,p.a.createElement(w.a,{id:"alert.emailFormatFail"})),p.a.createElement("hr",null),p.a.createElement("div",{className:"d-flex justify-content-end"},p.a.createElement(g.a,{onClick:function(){return e.handleAlert("showFail",!1)},variant:"outline-danger"},p.a.createElement(w.a,{id:"alert.close"})))),p.a.createElement(h.a.Group,{controlId:"signInEmail"},p.a.createElement(h.a.Label,null,p.a.createElement(w.a,{id:"signin.email"})),p.a.createElement(h.a.Control,{type:"email",placeholder:"pelda@pizzavilag.hu",onChange:this.onSigninFormChange})),p.a.createElement(h.a.Group,{controlId:"signInPassword"},p.a.createElement(h.a.Label,null,p.a.createElement(w.a,{id:"signin.password"})),p.a.createElement(h.a.Control,{type:"password",placeholder:"Jelsz\xf3",onChange:this.onSigninFormChange})),p.a.createElement("p",{className:"f6 grow no-underline br-pill ph3 pv2 dib white bg-black pointer ba bw0",style:{background:"#c4954f"},onClick:this.onSubmit},p.a.createElement(w.a,{id:"signin.signIn"})))}}]),n}(m.Component);a.default=Object(E.b)(null,(function(e){return{signIn:function(){return Object(b.h)(e)},admin:function(){return Object(b.b)(e)}}}))(I)}}]);
//# sourceMappingURL=12.07e0502a.chunk.js.map