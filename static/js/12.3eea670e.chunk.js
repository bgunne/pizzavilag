(this.webpackJsonppizzavilag=this.webpackJsonppizzavilag||[]).push([[12],{121:function(e,a,n){"use strict";n.r(a);var t=n(2),r=n.n(t),i=n(9),l=n(47),s=n(11),o=n(24),c=n(29),p=n(30),u=n(0),h=n.n(u),m=n(106),d=n(104),g=n(103),b=n(45),E=n(46),w=n(10),f=n(20),v=function(e){Object(c.a)(n,e);var a=Object(p.a)(n);function n(e){var t;return Object(s.a)(this,n),(t=a.call(this,e)).onSigninFormChange=function(e){t.setState(Object(l.a)({},e.target.id,e.target.value))},t.onSubmit=Object(i.a)(r.a.mark((function e(){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.signIn(t.state.signInEmail,t.state.signInPassword);case 2:return e.next=4,e.sent.json();case 4:(a=e.sent).id?(t.props.loadUser(a),t.props.dispatch(f.c.signIn()),t.props.history.push(w.a.root),"admin"===a.role&&(t.props.dispatch(f.c.admin()),t.props.history.push(w.a.admin))):t.handleAlert("showFail",!0);case 6:case"end":return e.stop()}}),e)}))),t.state={showFail:!1,signInEmail:"",signInPassword:""},t}return Object(o.a)(n,[{key:"handleAlert",value:function(e,a){"showFail"===e&&this.setState({showFail:a})}},{key:"render",value:function(){var e=this;return h.a.createElement(m.a,{className:"w-80 center bg-light-yellow pa2 br3 mt2",onKeyPress:function(a){"Enter"===a.key&&(e.onSubmit(),a.preventDefault())}},h.a.createElement(d.a,{show:this.state.showFail,variant:"danger"},h.a.createElement("p",null,h.a.createElement(b.a,{id:"alert.emailFormatFail"})),h.a.createElement("hr",null),h.a.createElement("div",{className:"d-flex justify-content-end"},h.a.createElement(g.a,{onClick:function(){return e.handleAlert("showFail",!1)},variant:"outline-danger"},h.a.createElement(b.a,{id:"alert.close"})))),h.a.createElement(m.a.Group,{controlId:"signInEmail"},h.a.createElement(m.a.Label,null,h.a.createElement(b.a,{id:"signin.email"})),h.a.createElement(m.a.Control,{type:"email",placeholder:"pelda@pizzavilag.hu",onChange:this.onSigninFormChange})),h.a.createElement(m.a.Group,{controlId:"signInPassword"},h.a.createElement(m.a.Label,null,h.a.createElement(b.a,{id:"signin.password"})),h.a.createElement(m.a.Control,{type:"password",placeholder:"Jelsz\xf3",onChange:this.onSigninFormChange})),h.a.createElement("p",{className:"f6 grow no-underline br-pill ph3 pv2 dib white bg-black pointer ba bw0",style:{background:"#c4954f"},onClick:this.onSubmit},h.a.createElement(b.a,{id:"signin.signIn"})))}}]),n}(u.Component);a.default=v}}]);
//# sourceMappingURL=12.3eea670e.chunk.js.map