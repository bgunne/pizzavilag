{"version":3,"sources":["pages/Orders/Orders.js"],"names":["Orders","props","state","orders","updated","Api","getOrders","json","this","setState","id","statusCode","changeOrder","deleteOrder","requestOrders","prevProps","prevState","className","map","order","i","user","split","pizzaList","pizzas","style","boxSizing","backgroundColor","status","key","pizza","price","onClick","Component","connect","manageUser"],"mappings":"qNASMA,E,kDACL,WAAYC,GAAQ,IAAD,8BAClB,cAAMA,IACDC,MAAQ,CACZC,OAAQ,GACRC,SAAS,GAJQ,E,4LAQUC,IAAIC,Y,8BAAaC,O,OAAvCJ,E,OACNK,KAAKC,SAAS,CAAEN,W,iLAECO,EAAIC,G,iFACfN,IAAIO,YAAYF,EAAIC,G,OAC1BH,KAAKC,SAAS,CAACL,SAAS,I,oLAEPM,G,iFACXL,IAAIQ,YAAYH,G,OACtBF,KAAKC,SAAS,CAACL,SAAS,I,iJAGxBI,KAAKM,kB,kFAEmBC,EAAWC,G,iEAC/BR,KAAKN,MAAME,UAAYY,EAAUZ,UAAgC,IAArBI,KAAKN,MAAME,UAC1DI,KAAKC,SAAS,CAACL,SAAS,IACxBI,KAAKM,iB,wIAGG,IAAD,OACAX,EAAWK,KAAKN,MAAhBC,OACR,OACC,yBAAKc,UAAU,iCACd,6BAASA,UAAU,aAClB,wBAAIA,UAAU,uBAAsB,kBAAC,IAAD,CACnCP,GAAG,mBACJ,wBAAIO,UAAU,uCAEZd,EAAOe,KAAI,SAACC,EAAOC,GAClB,IAAIC,EAAOF,EAAME,KAAKC,MAAM,MACxBC,EAAYJ,EAAMK,OAAOF,MAAM,MACnC,OACC,wBAAIL,UAAU,sCAAsCQ,MAAO,CAAEC,UAAW,cAAeC,gBAAgB,GAAD,OAAKR,EAAMS,SAAYC,IAAKV,EAAMT,IACvI,yBAAKO,UAAU,WACd,yBAAKA,UAAU,0DACd,uBAAGA,UAAU,gCAAgCI,EAAK,KAEnD,yBAAKJ,UAAU,0DACd,uBAAGA,UAAU,gCAAgCI,EAAK,MAGpD,yBAAKJ,UAAU,WACd,yBAAKA,UAAU,0DACd,uBAAGA,UAAU,gCAAgCI,EAAK,KAEnD,yBAAKJ,UAAU,0DACd,uBAAGA,UAAU,gCAAgCI,EAAK,KAEnD,yBAAKJ,UAAU,0DACd,uBAAGA,UAAU,gCAAgCI,EAAK,MAGpD,yBAAKJ,UAAU,qCAEbM,EAAUL,KAAI,SAACY,EAAOV,GACrB,OACC,uBAAGH,UAAU,mCAAmCY,IAAKT,GAAIU,OAK7D,yBAAKb,UAAU,uCACd,uBAAGA,UAAU,oCAAmC,kBAAC,IAAD,CAC/CP,GAAG,sBADJ,KAC6BS,EAAMY,MADnC,QAGD,yBAAKd,UAAU,uBACd,uBAAGA,UAAU,wEACZe,QAAS,kBAAM,EAAKpB,YAAYO,EAAMT,GAAI,aAE1C,kBAAC,IAAD,CACCA,GAAG,oBAEL,uBAAGO,UAAU,8EACZe,QAAS,kBAAM,EAAKpB,YAAYO,EAAMT,GAAI,aAE1C,kBAAC,IAAD,CACCA,GAAG,iBAEL,uBAAGO,UAAU,4EACZe,QAAS,kBAAM,EAAKnB,YAAYM,EAAMT,MAEtC,kBAAC,IAAD,CACCA,GAAG,+B,GA5FKuB,aAyGNC,uBA9GS,SAAAhC,GACvB,MAAO,CACNmB,KAAMnB,EAAMiC,WAAWd,QA4GVa,CAAyBlC","file":"static/js/10.851056ef.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport Api from '../../api/Api.js';\r\nconst mapStateToProps = state => {\r\n\treturn {\r\n\t\tuser: state.manageUser.user\r\n\t}\r\n}\r\nclass Orders extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\torders: [],\r\n\t\t\tupdated: false\r\n\t\t}\r\n\t}\r\n\tasync requestOrders() {\r\n\t\tconst orders = await (await Api.getOrders()).json();\r\n\t\tthis.setState({ orders });\r\n\t}\r\n\tasync changeOrder(id, statusCode) {\r\n\t\tawait Api.changeOrder(id, statusCode);\r\n\t\tthis.setState({updated: true});\r\n\t}\r\n\tasync deleteOrder(id) {\r\n\t\tawait Api.deleteOrder(id);\r\n\t\tthis.setState({updated: true});\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\tthis.requestOrders();\r\n\t}\r\n\tasync componentDidUpdate(prevProps, prevState) {\r\n\t\tif (this.state.updated !== prevState.updated && this.state.updated===true) {\r\n\t\t\tthis.setState({updated: false});\r\n\t\t\tthis.requestOrders();\r\n\t\t}\r\n\t}\r\n\trender() {\r\n\t\tconst { orders } = this.state;\r\n\t\treturn (\r\n\t\t\t<div className=\"w-80 flex items-center center\">\r\n\t\t\t\t<article className=\"pa2 w-100\">\r\n\t\t\t\t\t<h1 className=\"f4 bold left tl mw6\"><FormattedMessage\r\n\t\t\t\t\t\tid=\"orders.orders\" /></h1>\r\n\t\t\t\t\t<ul className=\"list pl0 ml0 center ba b--black br \">\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\torders.map((order, i) => {\r\n\t\t\t\t\t\t\t\tlet user = order.user.split(\"\\n\");\r\n\t\t\t\t\t\t\t\tlet pizzaList = order.pizzas.split(\"\\n\");\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<li className=\"ph3 pv3 bb b--black tc items-center\" style={{ boxSizing: \"content-box\", backgroundColor: `${order.status}` }} key={order.id}>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"ma-auto\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"ma-auto flex tc items-center center bb b--light-yellow\" >\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"w-100 center mt-auto mb-auto\">{user[0]}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"ma-auto flex tc items-center center bb b--light-yellow\" >\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"w-100 center mt-auto mb-auto\">{user[1]}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"ma-auto\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"ma-auto flex tc items-center center bb b--light-yellow\" >\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"w-100 center mt-auto mb-auto\">{user[2]}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"ma-auto flex tc items-center center bb b--light-yellow\" >\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"w-100 center mt-auto mb-auto\">{user[3]}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"ma-auto flex tc items-center center bb b--light-yellow\" >\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"w-100 center mt-auto mb-auto\">{user[4]}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"ma-auto h-auto bb b--light-yellow\">\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\tpizzaList.map((pizza, i) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"w-100 center mt-auto mb-auto pt2\" key={i}>{pizza}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"ma-auto flex tc items-center center\" >\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"w-100 center mt-auto mb-auto fw6\"><FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"orders.finalPrice\" />: {order.price} Ft</p>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"self-end pa1 h-auto\" >\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"f6 grow no-underline br-pill ph3 pv2 dib white pointer ba bw0 bg-gold\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.changeOrder(order.id, \"#FFFF66\")}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"orders.confirm\" />\r\n\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"f6 grow no-underline br-pill ph3 pv2 dib white pointer ba bw0 bg-dark-green\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.changeOrder(order.id, \"#9ACD32\")}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"orders.sent\" />\r\n\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"f6 grow no-underline br-pill ph3 pv2 dib white pointer ba bw0 bg-dark-red\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.deleteOrder(order.id)}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"orders.delete\" />\r\n\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</article>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\nexport default connect(mapStateToProps)(Orders);\r\n"],"sourceRoot":""}