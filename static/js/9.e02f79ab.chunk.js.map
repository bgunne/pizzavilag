{"version":3,"sources":["components/PizzaEditor/PizzaEditor.js","pages/Admin/Admin.js"],"names":["PizzaEditor","this","props","pizza","onFormChange","onFileInputChangeHandler","Form","style","Row","Col","className","Group","controlId","Label","id","Control","type","placeholder","defaultValue","name","onChange","topping","price","File","Input","React","Component","Admin","event","setState","Object","assign","state","pizzaEdit","target","value","setModificationType","modificationType","setDeleteId","deleteId","updatePizza","a","handleAlert","imageurl","showEdit","uploadPizza","showUpload","selectedFile","files","onFileUploadHandler","data","FormData","append","myHeaders","Headers","Env","apiClientIDImgur","fetch","apiUrlImgur","method","headers","body","redirect","response","json","link","showFail","editId","show","height","width","marginLeft","marginRight","onClick","handleCloseAddForm","backgroundColor","newPizza","pizzaList","length","requestPizzaList","prevProps","prevState","deletePizza","Alert","variant","Button","boxSizing","key","addBar","map","i","src","alt","objectFit","changePizza","connect","managePizzaList","user","manageUser","dispatch"],"mappings":"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","file":"static/js/9.e02f79ab.chunk.js","sourcesContent":["import React from 'react'\r\nimport Form from 'react-bootstrap/Form';\r\nimport Col from 'react-bootstrap/Col';\r\nimport { FormattedMessage } from 'react-intl';\r\nclass PizzaEditor extends React.Component {\r\n    render() {\r\n        const { pizza, onFormChange, onFileInputChangeHandler } = this.props;\r\n        return (\r\n            <Form style={{}}>\r\n                <Form.Row>\r\n                    <Col className=\"col-3\">\r\n                        <Form.Group controlId=\"name\">\r\n                            <Form.Label>\r\n                                <FormattedMessage\r\n                                    id=\"pizzaeditor.name\" />\r\n                            </Form.Label>\r\n                            <Form.Control\r\n                                type=\"text\"\r\n                                placeholder=\"Név\"\r\n                                defaultValue={pizza.name}\r\n                                onChange={onFormChange} />\r\n                        </Form.Group>\r\n                    </Col>\r\n                    <Col className=\"col-3\">\r\n                        <Form.Group controlId=\"topping\">\r\n                            <Form.Label>\r\n                                <FormattedMessage\r\n                                    id=\"pizzaeditor.toppings\" />\r\n                            </Form.Label>\r\n                            <Form.Control\r\n                                type=\"text\"\r\n                                placeholder=\"Feltétek\"\r\n                                defaultValue={pizza.topping}\r\n                                onChange={onFormChange} />\r\n                        </Form.Group>\r\n                    </Col>\r\n                    <Col className=\"col-3\">\r\n                        <Form.Group controlId=\"price\">\r\n                            <Form.Label>\r\n                                <FormattedMessage\r\n                                    id=\"pizzaeditor.price\" />\r\n                            </Form.Label>\r\n                            <Form.Control\r\n                                type=\"number\"\r\n                                placeholder=\"Ár\"\r\n                                defaultValue={pizza.price}\r\n                                onChange={onFormChange} />\r\n                        </Form.Group>\r\n                    </Col>\r\n                    <Col className=\"col-3\">\r\n                        <Form.File id=\"formcheck-api-regular\">\r\n                            <Form.File.Label>\r\n                                <FormattedMessage\r\n                                    id=\"pizzaeditor.image\" />\r\n                            </Form.File.Label>\r\n                            <Form.File.Input type=\"file\" onChange={onFileInputChangeHandler} />\r\n                        </Form.File>\r\n                    </Col>\r\n                </Form.Row>\r\n            </Form>\r\n        );\r\n    }\r\n}\r\nexport default PizzaEditor;","import React, { Component } from 'react';\r\nimport PizzaEditor from '../../components/PizzaEditor/PizzaEditor';\r\nimport Alert from 'react-bootstrap/Alert';\r\nimport Button from 'react-bootstrap/Button';\r\nimport { requestPizzaList, deletePizza, uploadPizza, updatePizza } from '../../redux/actions/app.js';\r\nimport { connect } from 'react-redux';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { Env } from '../../utils/Env';\r\nconst mapStateToProps = state => {\r\n\treturn {\r\n\t\tpizzaList: state.managePizzaList.pizzaList,\r\n\t\tuser: state.manageUser.user,\r\n\t}\r\n}\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\trequestPizzaList: () => requestPizzaList(dispatch),\r\n\t\tdeletePizza: (id) => deletePizza(dispatch, id),\r\n\t\tuploadPizza: (name, topping, price, imageurl) => uploadPizza(dispatch, name, topping, price, imageurl),\r\n\t\tupdatePizza: (id, name, topping, price, imageurl) => updatePizza(dispatch, id, name, topping, price, imageurl)\r\n\t}\r\n}\r\nclass Admin extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state =\r\n\t\t{\r\n\t\t\tshowEdit: false,\r\n\t\t\tshowUpload: false,\r\n\t\t\tshowFail: false,\r\n\t\t\tpizzaEdit: {\r\n\t\t\t\tid: '',\r\n\t\t\t\tname: '',\r\n\t\t\t\ttopping: '',\r\n\t\t\t\tprice: '',\r\n\t\t\t\timageurl: '',\r\n\t\t\t\teditId: '',\r\n\t\t\t\tdeleteId: '',\r\n\t\t\t\tmodificationType: '',\r\n\t\t\t\tselectedFile: ''\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\tchangePizza(pizza) {\r\n\t\tthis.setState({ showEdit: true, pizzaEdit: pizza, editId: pizza.id });\r\n\t}\r\n\tnewPizza() {\r\n\t\tthis.setState({ pizzaEdit: [], showUpload: true });\r\n\t}\r\n\tonFormChange = (event) => {\r\n\t\tthis.setState(Object.assign(this.state.pizzaEdit, { [event.target.id]: event.target.value }));\r\n\t};\r\n\tsetModificationType = (type) => {\r\n\t\tthis.setState({modificationType: type});\r\n\t}\r\n\tsetDeleteId = (id) => {\r\n\t\tthis.setState({deleteId: id});\r\n\t}\r\n\tupdatePizza = async () => {\r\n\t\tif (!this.state.pizzaEdit.name || !this.state.pizzaEdit.topping || !this.state.pizzaEdit.price) {\r\n\t\t\tthis.handleAlert(\"showFail\", true);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tawait this.props.updatePizza(this.state.pizzaEdit.id, this.state.pizzaEdit.name, this.state.pizzaEdit.topping, this.state.pizzaEdit.price, this.state.pizzaEdit.imageurl);\r\n\t\t\t\r\n\t\t\tawait this.setState({ pizzaEdit: [], showEdit: false });\r\n\t\t}\r\n\t}\r\n\tuploadPizza = async () => {\r\n\t\tif (!this.state.pizzaEdit.name || !this.state.pizzaEdit.topping || !this.state.pizzaEdit.price) {\r\n\t\t\tthis.handleAlert(\"showFail\", true);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tawait this.props.uploadPizza(this.state.pizzaEdit.name, this.state.pizzaEdit.topping, this.state.pizzaEdit.price, this.state.pizzaEdit.imageurl);\r\n\t\t\t\r\n\t\t\tawait this.setState({ pizzaEdit: [],showUpload: false });\r\n\t\t}\r\n\t}\r\n\thandleCloseAddForm() {\r\n\t\tthis.setState({ showUpload: false })\r\n\t}\r\n\thandleAlert(type, show) {\r\n\t\tif (type === \"showFail\") {\r\n\t\t\tthis.setState({ showFail: show });\r\n\t\t}\r\n\t}\r\n\taddBar() {\r\n\t\tif (this.state.showUpload === true) {\r\n\t\t\treturn (\r\n\t\t\t\t<div className=\"ma-auto flex tc items-center\">\r\n\t\t\t\t\t<PizzaEditor\r\n\t\t\t\t\t\tonFileInputChangeHandler={this.onFileInputChangeHandler}\r\n\t\t\t\t\t\tpizza={[]}\r\n\t\t\t\t\t\tonFormChange={this.onFormChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"self-end pa1 h-auto\"\r\n\t\t\t\t\t\tstyle={{ height: '100px', width: '16%', marginLeft: '0', marginRight: '0' }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\tclassName=\"f6 grow no-underline br-pill ph3 pv2 dib white pointer ba bw0 bg-dark-green mh1\"\r\n\t\t\t\t\t\t\tonClick={async () => {\r\n\t\t\t\t\t\t\t\tawait this.onFileUploadHandler();\r\n\t\t\t\t\t\t\t\tthis.setModificationType(\"upload\");\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\tid=\"admin.upload\" />\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\tclassName=\"f6 grow no-underline br-pill ph3 pv2 dib white pointer ba bw0 bg-dark-red mh1\"\r\n\t\t\t\t\t\t\tonClick={() => this.handleCloseAddForm()}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\tid=\"admin.cancel\" />\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\treturn (\r\n\t\t\t\t<p\r\n\t\t\t\t\tclassName=\"f6 grow no-underline br-pill ph3 pv2 dib white bg-black pointer ba bw0 mt-auto mb-auto center\"\r\n\t\t\t\t\tstyle={{ backgroundColor: '#c4954f' }}\r\n\t\t\t\t\tonClick={() => this.newPizza()}\r\n\t\t\t\t>\r\n\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\tid=\"admin.add\" />\r\n\t\t\t\t</p>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\tonFileInputChangeHandler = async (event) => {\r\n\t\tthis.setState({selectedFile: event.target.files[0]})\r\n\t};\r\n\tonFileUploadHandler = async () => {\r\n\t\tconst data = new FormData();\r\n\t\tdata.append('image', this.state.selectedFile);\r\n\t\tconst myHeaders = new Headers();\r\n\t\tmyHeaders.append(\"Authorization\", Env.apiClientIDImgur);\r\n\t\tif (this.state.selectedFile) {\r\n\t\t\tconst response = await fetch(Env.apiUrlImgur, {\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\theaders: myHeaders,\r\n\t\t\t\tbody: data,\r\n\t\t\t\tredirect: 'follow'\r\n\t\t\t});\r\n\t\t\tconst body = await response.json();\r\n\t\t\tthis.setState(Object.assign(this.state.pizzaEdit, { imageurl: body.data.link }));\r\n\r\n\r\n\t\t}\r\n\t};\r\n\tcomponentDidMount() {\r\n\t\tif (!this.props.pizzaList.length) {\r\n\t\t\tthis.props.requestPizzaList();\r\n\t\t}\r\n\t}\r\n\tasync componentDidUpdate(prevProps, prevState) {\r\n\t\tconst { modificationType, deleteId } = this.state;\r\n\t\tif (modificationType !== prevState.modificationType) {\r\n\t\t\tif (modificationType === \"update\") {\r\n\t\t\t\tthis.updatePizza();\r\n\t\t\t}\r\n\t\t\telse if (modificationType === \"upload\") {\r\n\t\t\t\tthis.uploadPizza();\r\n\t\t\t}\r\n\t\t\telse if (modificationType === \"delete\") {\r\n\t\t\t\tthis.props.deletePizza(deleteId);\r\n\t\t\t}\r\n\t\t\tawait this.setState({modificationType: ''});\r\n\t\t\tthis.props.requestPizzaList();\r\n\t\t}\r\n\t}\r\n\trender() {\r\n\t\tconst { pizzaList } = this.props;\r\n\t\treturn (\r\n\t\t\t<div className=\"w-80 flex items-center center\">\r\n\t\t\t\t<article className=\"pa2 w-100\" style={{ height: 'pizzaList.length * 150px' }}>\r\n\t\t\t\t\t<Alert show={this.state.showFail} variant=\"danger\" >\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\tid=\"alert.admin\" />\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-end\">\r\n\t\t\t\t\t\t\t<Button onClick={() => this.handleAlert(\"showFail\", false)} variant=\"outline-danger\">\r\n\t\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\t\tid=\"alert.close\" />\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t\t<div className=\"flex justify-between items-center pa2\">\r\n\t\t\t\t\t\t<h1 className=\"f4 bold left tl mw6 mt-auto mb-auto\">\r\n\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\tid=\"admin.pizzaList\" />\r\n\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<ul className=\"list pl0 ml0 center ba b--light-silver br \">\r\n\t\t\t\t\t\t<li\r\n\t\t\t\t\t\t\tclassName=\"ph3 pv3 bb b--light-silver flex tc items-center bg-light-yellow\"\r\n\t\t\t\t\t\t\tstyle={{ boxSizing: 'content-box' }}\r\n\t\t\t\t\t\t\tkey=\"0\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{this.addBar()}\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t{pizzaList.map((pizza, i) => {\r\n\t\t\t\t\t\t\tif (this.state.editId === pizza.id && this.state.showEdit) {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<li\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"ph3 pv3 bb b--light-silver flex tc items-center bg-light-yellow\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ boxSizing: 'content-box' }}\r\n\t\t\t\t\t\t\t\t\t\tkey={pizza.id}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<PizzaEditor\r\n\t\t\t\t\t\t\t\t\t\t\tonFileInputChangeHandler={this.onFileInputChangeHandler}\r\n\t\t\t\t\t\t\t\t\t\t\tpizza={pizza}\r\n\t\t\t\t\t\t\t\t\t\t\tonFormChange={this.onFormChange}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-10 pa1 h-auto flex tc items-center center\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ height: '100px', width: '16%', marginLeft: '0', marginRight: '0' }}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"f6 grow no-underline br-pill ph3 pv2 dib white pointer ba bw0 bg-dark-green mt-auto mb-auto\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={async () => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tawait this.onFileUploadHandler();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setModificationType('update');\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"admin.save\" />\r\n\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<li\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"ph3 pv3 bb b--light-silver flex tc items-center\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ boxSizing: 'content-box', backgroundColor: '#c4954f' }}\r\n\t\t\t\t\t\t\t\t\t\tkey={pizza.id}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\" ma-auto flex tc items-center center\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ height: '100px', width: '16%' }}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"w-100 center mt-auto mb-auto\">{pizza.name}</p>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\" ma-auto flex tc items-center center\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ height: '100px', width: '16%' }}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"w-100 center mt-auto mb-auto\">{pizza.topping}</p>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\" ma-auto flex tc items-center center\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ height: '100px', width: '16%' }}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"w-100 center mt-auto mb-auto\">{pizza.price} Ft</p>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\" ma-auto flex tc items-center center\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ height: '100px', width: '16%' }}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"w-100 center mt-auto mb-auto\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={pizza.imageurl}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\talt={pizza.imageurl}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"db br2 br--top\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ objectFit: 'cover', width: '200px', height: '100px' }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"self-end pa1 h-auto\" style={{ height: '100px', width: '16%' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"f6 grow no-underline br-pill ph3 pv2 dib white pointer ba bw0 bg-gold\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.changePizza(pizza)}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"admin.edit\" />\r\n\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"f6 grow no-underline br-pill ph3 pv2 dib white pointer ba bw0 bg-dark-red\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setDeleteId(pizza.id);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setModificationType(\"delete\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FormattedMessage\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"admin.delete\" />\r\n\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</article>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Admin);\r\n"],"sourceRoot":""}